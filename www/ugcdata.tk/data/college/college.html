<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title>Colleges - UGC Data</title>

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="57x57" href="/img/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/img/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/img/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/img/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/img/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/img/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/img/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="/img/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/img/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <!-- W3.css -->
    <link rel="stylesheet" href="/vendor/w3.css/4/w3.css" />
    <link rel="stylesheet" href="/vendor/w3.css/theme/w3-theme-primary.css" />
    <link rel="stylesheet" href="/vendor/w3.css/theme/w3-theme-accent.css" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="/vendor/fontawesome/5.0.13/css/fontawesome-all.min.css" />

    <!-- jQuery -->
    <script type="text/javascript" src="/vendor/jquery/3.2.1/jquery.min.js"></script>

    <!-- Angular Material -->
    <link rel="stylesheet" href="/vendor/angular-material/1.1.8/angular-material.min.css" />

    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Outdatedbrowser -->
    <link rel="stylesheet" href="/vendor/outdatedbrowser/outdatedbrowser.min.css" />

    <!-- Moment.js -->
    <script src="/vendor/moment/moment.min.js"></script>

    <!-- Hamburger -->
    <link rel="stylesheet" href="/vendor/hamburger/hamburger.css" />

    <!-- Data Tables -->
    <link rel="stylesheet" href="/vendor/datatables/Bootstrap-4-4.0.0/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/vendor/datatables/datatables.min.css" />
    <script src="/vendor/datatables/Bootstrap-4-4.0.0/js/bootstrap.min.js"></script>
    <script src="/vendor/datatables/datatables.min.js"></script>
    <script src="/vendor/datatables/Plugins/datetime-moment.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/global.css" />
    <link rel="stylesheet" href="/css/college.css" />
</head>

<body class="w3-light-grey">
    <div id="outdated"></div>

    <div class="su-template-holder" su-include-template="/template/sidenav.template.json"></div>

    <div id="ng-app" ng-app="CollegeApp" ng-controller="CollegeCtrl as vm" ng-cloak>
        <div class="w3-card w3-white w3-padding-large w3-right-align w3-xxlarge w3-text-theme-primary">
            <div class="w3-row">
                Colleges
            </div>
            <div class="w3-row w3-left-align">
                <md-button class="md-primary w3-small w3-margin-0 w3-text-theme-primary" href="/main">
                    <i class="fas fa-home"></i>&nbsp;Home
                </md-button>
                <md-menu md-offset="0 30">
                    <md-button class="md-icon-button w3-small w3-margin-0 w3-text-theme-primary" ng-click="vm.openMenu($mdMenu, $event)">
                        <i class="fas fa-chevron-right"></i>
                    </md-button>
                    <md-menu-content class="w3-padding-0" width="4">
                        <md-menu-item>
                            <md-menu class="w3-padding-0 w3-margin-0">
                                <md-button class="md-primary w3-small w3-margin-0 w3-text-theme-primary w3-padding-small" style="width: 100%; height: 100%; text-align: left;"
                                    ng-click="vm.openMenu($mdMenu, $event)">
                                    <i class="fas fa-table"></i>&nbsp;Reports&nbsp;
                                    <i class="fas fa-chevron-right w3-right w3-padding-large"></i>
                                </md-button>
                                <md-menu-content class="w3-padding-0" width="4">
                                    <md-menu-item>
                                        <md-button class="md-primary w3-small w3-margin-0 w3-text-theme-primary" onclick="window.location.href='/report/paid/'">
                                            <i class="fas fa-table"></i>&nbsp;Paid
                                        </md-button>
                                    </md-menu-item>
                                    <md-menu-item>
                                        <md-button class="md-primary w3-small w3-margin-0 w3-text-theme-primary" onclick="window.location.href='/report/pending/'">
                                            <i class="fas fa-table"></i>&nbsp;Pending
                                        </md-button>
                                    </md-menu-item>
                                </md-menu-content>
                            </md-menu>
                        </md-menu-item>
                        <md-menu-item>
                            <md-menu class="w3-padding-0 w3-margin-0">
                                <md-button class="md-primary w3-small w3-margin-0 w3-theme-primary-d2 w3-hover-theme-primary w3-padding-small" style="width: 100%; height: 100%; text-align: left;"
                                    ng-click="vm.openMenu($mdMenu, $event)">
                                    <i class="fas fa-database"></i>&nbsp;Data&nbsp;
                                    <i class="fas fa-chevron-right w3-right w3-padding-large"></i>
                                </md-button>
                                <md-menu-content class="w3-padding-0" width="4">
                                    <md-menu-item>
                                        <md-button class="md-primary w3-small w3-margin-0 w3-theme-primary-d2" onclick="window.location.href='/data/college/'" ng-disabled="true">
                                            <i class="fas fa-school"></i>&nbsp;Colleges
                                        </md-button>
                                    </md-menu-item>
                                </md-menu-content>
                            </md-menu>
                        </md-menu-item>
                    </md-menu-content>
                </md-menu>
                <md-button class="md-primary w3-small w3-margin-0 w3-text-theme-primary" ng-disabled="true">
                    <i class="fas fa-database"></i>&nbsp;Data
                </md-button>
                <md-menu md-offset="0 30">
                    <md-button class="md-icon-button w3-small w3-margin-0 w3-text-theme-primary" ng-click="vm.openMenu($mdMenu, $event)">
                        <i class="fas fa-chevron-right"></i>
                    </md-button>
                    <md-menu-content class="w3-padding-0" width="4">
                        <md-menu-item>
                            <md-button class="md-primary w3-small w3-margin-0 w3-theme-primary-d2" onclick="window.location.href='/data/college/'" ng-disabled="true">
                                <i class="fas fa-school"></i>&nbsp;Colleges
                            </md-button>
                        </md-menu-item>
                    </md-menu-content>
                </md-menu>
                <md-button class="md-primary w3-small w3-margin-0" ng-disabled="true">
                    <i class="fas fa-table"></i>&nbsp;Paid
                </md-button>
            </div>
        </div>
        <br />
        <div class="w3-card w3-white">
            <md-tabs md-dynamic-height md-selected="vm.selectedTabIndex" class="md-primary">
                <md-tab label="View">
                    <md-content class="w3-white">
                        <h1 class="w3-xlarge w3-padding w3-margin-0">View Report</h1>
                        <div class="w3-theme-primary-l5 w3-card">
                            <div id="filter" class="w3-large w3-padding w3-margin-0 w3-theme-primary-d5 w3-hover-theme-primary" style="cursor: pointer;"
                                onclick='toggleAccordian("filter","filter_section");'>
                                Filters&nbsp;
                                <i class="fas fa-filter"></i>
                                <i class='fas fa-chevron-down w3-right w3-padding-small accordian-icon'></i>
                            </div>
                            <md-button ng-disabled="vm.mode.report.getting" ng-show="vm.mode.report.loaded" class="md-raised md-primary w3-right" ng-click="vm.loadMore()">
                                Load More&nbsp;
                                <i ng-show="!vm.mode.report.getting" class="fas fa-chevron-right"></i>
                                <i ng-show="vm.mode.report.getting" class="fas fa-circle-notch fa-spin"></i>
                            </md-button>
                            <md-button ng-disabled="vm.mode.report.getting" class="md-raised md-primary w3-right" ng-click="vm.getReport()">
                                Get Data&nbsp;
                                <i ng-show="!vm.mode.report.getting" class="fas fa-chevron-right"></i>
                                <i ng-show="vm.mode.report.getting" class="fas fa-circle-notch fa-spin"></i>
                            </md-button>


                            <div id="filter_section" class="w3-hide">
                                <div class="w3-row">
                                    <div class="w3-col m6 w3-padding-small">
                                        <fieldset class="primary w3-padding-small">
                                            <legend>College ID</legend>
                                            <md-chips ng-model="vm.filter.college.selected" md-autocomplete-snap md-transform-chip="vm.transformCollegeChip($chip)" md-require-match="true"
                                                style="width: 100%;">
                                                <md-autocomplete md-selected-item="vm.filter.college.selectedItem" md-search-text="vm.filter.college.search" md-min-length="0"
                                                    md-items="college in vm.querySearchCollege(vm.filter.college.search)" md-item-text="college"
                                                    placeholder="Search College ID">
                                                    <span class="w3-small" md-highlight-text="vm.filter.college.search">{{college}}</span>
                                                </md-autocomplete>
                                                <md-chip-template>
                                                    <span>
                                                        {{$chip}}
                                                    </span>
                                                </md-chip-template>
                                            </md-chips>
                                        </fieldset>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="w3-margin-top w3-padding w3-center">
                            <div class="w3-padding-small" ng-show="vm.mode.report.getting && !vm.mode.report.loaded" layout="row" layout-sm="column"
                                layout-align="space-around">
                                <md-progress-circular md-mode="indeterminate"></md-progress-circular>
                            </div>
                            <div id="divDataTable" ng-show="vm.mode.report.loaded">
                                <table id="dataTable" class="table table-striped table-bordered compact hover order-column" style="width:100%">
                                    <thead>
                                        <tr>
                                            <th>College ID</th>
                                            <th>Old College ID</th>
                                            <th>Name</th>
                                            <th>Address 1</th>
                                            <th>Address 2</th>
                                            <th>PIN</th>
                                            <th>PFMS Unique Code</th>
                                            <th>NAAC Validity</th>
                                            <th>BSR Interest Paid and Interest</th>
                                        </tr>
                                    </thead>
                                    <tfoot>
                                        <tr>
                                            <th>College ID</th>
                                            <th>Old College ID</th>
                                            <th>Name</th>
                                            <th>Address 1</th>
                                            <th>Address 2</th>
                                            <th>PIN</th>
                                            <th>PFMS Unique Code</th>
                                            <th>NAAC Validity</th>
                                            <th>BSR Interest Paid and Interest</th>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </md-content>
                </md-tab>
                <md-tab label="Edit">
                    <md-content class="w3-padding w3-white">
                        <h1 class="w3-xlarge">Edit College</h1>
                        <div class="w3-row w3-margin-bottom">
                            <div class="w3-col m6">
                                <md-chips ng-model="vm.edit.collegeId.selected" md-autocomplete-snap md-transform-chip="vm.transformEditCollegeIdChip($chip)"
                                    md-require-match="true" md-max-chips="1" style="width: 100%;" md-on-add="vm.editCollegeIdChanged()"
                                    md-on-remove="vm.editCollegeIdChanged()">
                                    <md-autocomplete md-selected-item="vm.edit.collegeId.selectedItem" md-search-text="vm.edit.collegeId.search" md-min-length="0"
                                        md-items="college in vm.querySearchEditCollegeId(vm.edit.collegeId.search)" md-item-text="college"
                                        placeholder="Search College ID">
                                        <span class="w3-small" md-highlight-text="vm.edit.collegeId.search">{{college}}</span>
                                    </md-autocomplete>
                                    <md-chip-template>
                                        <span>
                                            {{$chip}}
                                        </span>
                                    </md-chip-template>
                                </md-chips>
                            </div>
                        </div>
                        <md-divider></md-divider>
                        <div class="w3-row w3-center">
                            <div class="w3-padding-small" ng-show="vm.mode.edit.getting" layout="row" layout-sm="column" layout-align="space-around">
                                <md-progress-circular md-mode="indeterminate"></md-progress-circular>
                            </div>
                        </div>
                        <form name="editForm" ng-show="!vm.mode.edit.getting">
                            <div class="w3-row w3-margin-top">
                                <div class="w3-col m6">
                                    <md-input-container style="width: 100%;">
                                        <label>Old College ID</label>
                                        <input name="oldCollegeId" ng-model="vm.edit.oldCollegeId" ng-disabled="!(vm.edit.collegeId.selected.length > 0)">
                                    </md-input-container>
                                </div>
                                <div class="w3-col m6">
                                    <md-input-container style="width: 100%;">
                                        <label>College Name</label>
                                        <input name="collegeName" ng-model="vm.edit.collegeName" ng-disabled="!(vm.edit.collegeId.selected.length > 0)" required>
                                        <div ng-messages="editForm.collegeName.$error">
                                            <div ng-message="required">This is required.</div>
                                        </div>
                                    </md-input-container>
                                </div>
                            </div>
                            <div class="w3-row">
                                <div class="w3-col m6">
                                    <md-input-container style="width: 100%;">
                                        <label>Address 1</label>
                                        <input name="address1" ng-model="vm.edit.address1" ng-disabled="!(vm.edit.collegeId.selected.length > 0)" required>
                                        <div ng-messages="editForm.address1.$error">
                                            <div ng-message="required">This is required.</div>
                                        </div>
                                    </md-input-container>
                                </div>
                                <div class="w3-col m6">
                                    <md-input-container style="width: 100%;">
                                        <label>
                                            Address 2&nbsp;
                                            <span style="font-size: 0.8em;">(District and/or State)</span>
                                        </label>
                                        <input name="address2" ng-model="vm.edit.address2" ng-disabled="!(vm.edit.collegeId.selected.length > 0)" required>
                                        <div ng-messages="editForm.address2.$error">
                                            <div ng-message="required">This is required.</div>
                                        </div>
                                    </md-input-container>
                                </div>
                            </div>
                            <div class="w3-row">
                                <div class="w3-col m4">
                                    <md-input-container style="width: 100%;">
                                        <label>PIN</label>
                                        <input name="pin" ng-model="vm.edit.pin" ng-disabled="!(vm.edit.collegeId.selected.length > 0)" required ng-pattern="/^[0-9]{6}$/">
                                        <div ng-messages="editForm.pin.$error">
                                            <div ng-message="required">This is required.</div>
                                            <div ng-message="pattern">Invalid PIN.</div>
                                        </div>
                                    </md-input-container>
                                </div>
                                <div class="w3-col m4">
                                    <md-input-container style="width: 100%;">
                                        <label>PFMS Unique Code</label>
                                        <input name="pfmsCode" ng-model="vm.edit.pfmsCode" ng-disabled="!(vm.edit.collegeId.selected.length > 0)">
                                    </md-input-container>
                                </div>
                                <div class="w3-col m4">
                                    <md-input-container class="md-icon-float md-button-right md-block">
                                        <label>NAAC Validity</label>
                                        <md-datepicker ng-model="vm.edit.naacValidity" ng-disabled="!(vm.edit.collegeId.selected.length > 0)"></md-datepicker>
                                        <div class="button-group" style="position: absolute; right: 0px; top: 0px; margin: 0;" ng-click="vm.edit.naacValidity = null">
                                            <md-button class="md-icon-button md-accent" aria-label="Clear">
                                                <i class="fas fa-trash-alt w3-medium"></i>
                                            </md-button>
                                        </div>
                                    </md-input-container>
                                </div>
                            </div>
                            <div class="w3-row">
                                <div class="w3-col m12">
                                    <md-input-container style="width: 100%;">
                                        <label>BSR Interest Paid and Interest</label>
                                        <input name="bsrInterest" ng-model="vm.edit.bsrInterest" ng-disabled="!(vm.edit.collegeId.selected.length > 0)">
                                    </md-input-container>
                                </div>
                            </div>
                            <div class="w3-row">
                                <md-button class="md-primary md-raised w3-right" ng-disabled="vm.mode.edit.saving || editForm.$invalid" ng-click="vm.editSave()">
                                    Save&nbsp;
                                    <i class="fas fa-save" ng-show="!vm.mode.edit.saving"></i>
                                    <i class="fas fa-circle-notch fa-spin" ng-show="vm.mode.edit.saving"></i>
                                </md-button>
                            </div>
                        </form>
                    </md-content>
                </md-tab>
                <md-tab label="Add">
                    <md-content class="w3-padding w3-white">
                        <h1 class="w3-xlarge">Add College</h1>
                        <form name="addForm">
                            <div class="w3-row">
                                <div class="w3-col m6">
                                    <md-input-container class="md-icon-float md-icon-right md-block">
                                        <label>College ID</label>
                                        <input name="collegeId" ng-model="vm.add.collegeId" required ng-pattern="/^[A-Z0-9]+$/" ng-custvalidator-collegeid>
                                        <div ng-messages="addForm.collegeId.$error">
                                            <div ng-message="required">This is required.</div>
                                            <div ng-message="pattern">College ID must contain upper case letters and digits only.</div>
                                            <div ng-message="college-id-exists">College ID aldready exists.</div>
                                        </div>
                                        <md-icon>
                                            <i ng-show="addForm.collegeId.$invalid && !vm.mode.add.checkingCollegeId" class="fas fa-times w3-text-red"></i>
                                            <i ng-show="!addForm.collegeId.$invalid && !vm.mode.add.checkingCollegeId" class="fas fa-check w3-text-green"></i>
                                            <i ng-show="!addForm.collegeId.$invalid && vm.mode.add.checkingCollegeId" class="fas fa-circle-notch fa-spin w3-text-grey"></i>
                                        </md-icon>
                                    </md-input-container>
                                </div>
                                <div class="w3-col m6">
                                    <md-input-container class="md-block">
                                        <label>Old College ID</label>
                                        <input name="oldCollegeId" ng-model="vm.add.oldCollegeId" ng-pattern="/^[A-Z0-9]+$/">
                                        <div ng-messages="addForm.oldCollegeId.$error">
                                            <div ng-message="pattern">Old College ID must contain upper case letters and digits only.</div>
                                        </div>
                                    </md-input-container>
                                </div>
                            </div>
                            <div class="w3-row">
                                <div class="w3-col m6">
                                    <md-input-container class="md-block">
                                        <label>College Name</label>
                                        <input name="collegeName" ng-model="vm.add.collegeName" required>
                                        <div ng-messages="addForm.collegeName.$error">
                                            <div ng-message="required">This is required.</div>
                                        </div>
                                    </md-input-container>
                                </div>
                                <div class="w3-col m6">
                                    <md-input-container class="md-block">
                                        <label>Address 1</label>
                                        <input name="address1" ng-model="vm.add.address1" required>
                                        <div ng-messages="addForm.address1.$error">
                                            <div ng-message="required">This is required.</div>
                                        </div>
                                    </md-input-container>
                                </div>
                            </div>
                            <div class="w3-row">
                                <div class="w3-col m4">
                                    <md-input-container class="md-block">
                                        <label>
                                            Address 2&nbsp;
                                            <span style="font-size: 0.8em;">(District and/or State)</span>
                                        </label>
                                        <input name="address2" ng-model="vm.add.address2" required>
                                        <div ng-messages="addForm.address2.$error">
                                            <div ng-message="required">This is required.</div>
                                        </div>
                                    </md-input-container>
                                </div>
                                <div class="w3-col m4">
                                    <md-input-container class="md-block">
                                        <label>PIN</label>
                                        <input name="pin" ng-model="vm.add.pin" required ng-pattern="/^[0-9]{6}$/">
                                        <div ng-messages="addForm.address1.$error">
                                            <div ng-message="required">This is required.</div>
                                            <div ng-message="pattern">Invalid PIN</div>
                                        </div>
                                    </md-input-container>
                                </div>
                                <div class="w3-col m4">
                                    <md-input-container class="md-icon-float md-button-right md-block">
                                        <label>NAAC Validity</label>
                                        <md-datepicker ng-model="vm.add.naacValidity"></md-datepicker>
                                        <div class="button-group" style="position: absolute; right: 0px; top: 0px; margin: 0;" ng-click="vm.add.naacValidity = null">
                                            <md-button class="md-icon-button md-accent" aria-label="Clear">
                                                <i class="fas fa-trash-alt w3-medium"></i>
                                            </md-button>
                                        </div>
                                    </md-input-container>
                                </div>
                            </div>
                            <div class="w3-row">
                                <div class="w3-col m6">
                                    <md-input-container class="md-block">
                                        <label>PFMS Unique Code</label>
                                        <input name="pfmsCode" ng-model="vm.add.pfmsCode">
                                    </md-input-container>
                                </div>
                                <div class="w3-col m6">
                                    <md-input-container class="md-block">
                                        <label>BSR Interest Paid &amp; Interest</label>
                                        <input name="bsrInterest" ng-model="vm.add.bsrInterest">
                                    </md-input-container>
                                </div>
                            </div>
                            <div class="w3-row">
                                <md-button class="md-primary md-raised w3-right" ng-disabled="vm.mode.add.saving || addForm.$invalid" ng-click="vm.addCollege()">
                                    Add College&nbsp;
                                    <i class="fas fa-plus" ng-show="!vm.mode.add.saving"></i>
                                    <i class="fas fa-circle-notch fa-spin" ng-show="vm.mode.add.saving"></i>
                                </md-button>
                            </div>
                        </form>
                    </md-content>
                </md-tab>
            </md-tabs>
        </div>
    </div>

    <!-- Outdatedbrowser -->
    <script src="/vendor/outdatedbrowser/outdatedbrowser.min.js"></script>
    <script>
        //event listener form DOM ready
        function addLoadEvent(func) {
            var oldonload = window.onload;
            if (typeof window.onload != 'function') {
                window.onload = func;
            } else {
                window.onload = function () {
                    if (oldonload) {
                        oldonload();
                    }
                    func();
                }
            }
        }
        //call function after DOM ready
        addLoadEvent(function () {
            outdatedBrowser({
                bgColor: '#f25648',
                color: '#ffffff',
                lowerThan: 'transform',
                languagePath: '/vendor/outdatedbrowser/lang/en.html'
            })
        });
    </script>

    <!-- Angular JS-->
    <script src="/vendor/angularjs/1.6.9/angular.min.js"></script>
    <script src="/vendor/angularjs/1.6.9/angular-animate.min.js"></script>
    <script src="/vendor/angularjs/1.6.9/angular-aria.min.js"></script>
    <script src="/vendor/angularjs/1.6.9/angular-messages.min.js"></script>

    <!-- Angular Material-->
    <script src="/vendor/angular-material/1.1.8/angular-material.min.js"></script>

    <script type="text/javascript" src="/js/global.js"></script>
    <script type="text/javascript" src="/js/college.js"></script>
    <script type="text/javascript" src="/js/college-ng.js"></script>
</body>

</html>